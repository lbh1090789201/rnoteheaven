
<% provide :title, "基本信息" %>
<% provide :content, "保存" %>

<div class="edit_basic" id="user-edit">
    <%= simple_form_for @user, url: webapp_user_path(current_user.id),remote: true, :method => :patch, class: "user-form" do |f| %>
      <div class="job-pubilc">
        <%= f.input :show_name, label: "姓        名", input_html: { class: "user-input", id: "user_name"} %>
        <span class="empty-cont" onclick="EmptyCont('user_name')"></span>
      </div>
      <%= f.input :sex, label: '性        别', input_html: { readonly: "readonly", class: "user-sex user-input user-public", id: "sex"} %>
      <%= f.input :highest_degree, label: '最高学历', input_html: { readonly: "readonly", class: "highest-degree user-input", id: "highest_degree"} %>
      <!-- 职称属性 -->
      <%= f.input :position, label: '职        称', input_html: { readonly: "readonly", class: "user-title user-input", id: "user_title"} %>
      <%= f.input :start_work_at, label: '工作年限', as: :string, input_html: { readonly: "readonly", class: "start-work user-input user-public", id: "start_work"} %>
      <%= f.input :birthday, label: '出生年月', as: :string, input_html: { class: "user-input", id: "birthday"} %>
      <div class="job-pubilc">
        <%= f.input :cellphone, label: '手机号码', input_html: { class: "user-input", id: "user_phone"} %>
        <span class="empty-cont" onclick="EmptyCont('user_phone')"></span>
      </div>
      <div class="job-pubilc">
        <%= f.input :user_email, label: '邮        箱', input_html: { class: "user-input", id: "user_email"} %>
        <span class="empty-cont" onclick="EmptyCont('user_email')"></span>
      </div>
      <%= f.input :location, label: '所在区域', input_html: { readonly: "readonly", class: "user-input", id: "locationChoice"} %>
      <!-- 城市插件需要用到 -->
      <input type="hidden" id="province" value="">
      <input type="hidden" id="city" value="">
      <!-- 当前状态属性 -->
      <%= f.input :seeking_job, label: '当前状态', input_html: { readonly: "readonly", class: "seeking-job user-input", id: "seeking_job"} %>
      <%= f.submit "保存", id: "submit", class: "btn btn-info btn-right"%>
    <% end %>
    <!-- 时间代码生成处 -->
　　　<div id="datePlugin"></div>
</div>

<%= javascript_include_tag "date" %>
<script type="text/javascript">
  fullScreen('.edit_basic');
  // clickRignt('#submit');

  $(function(){
	$('#birthday').date();
   });

　　//性别
    $('.user-sex').click(function() {
        var sex = ['男','女'];
        var pclass = 'sex';
        workExperience(sex,".user-sex",pclass);
    });

　　　//最高学历
    $('.highest-degree').click(function() {
      var highest_degree = ['大专以下', '大专','本科', '硕士', '博士', '博士后'];
      var pclass = 'highest_degree';
      workExperience(highest_degree, ".highest-degree", pclass);
    });

　　　//职称
    $('.user-title').click(function() {
      var user_title = ['医师','主治医师', '副主任医师', '主任医师'];
      var pclass = 'user_title';
      workExperience(user_title, ".user-title", pclass);
    });

    //工作年限
    $('.start-work').click(function() {
      var start_work = ['在读','应届', '1年', '２年', '3-4年', '5-7年', '8-9年', '10年以上'];
      var pclass = 'start_work';
      workExperience(start_work, ".start-work", pclass);
    });

    //当前状态
    $('.seeking-job').click(function() {
      var seeking_job = ['目前正在找工作','半年内无换工作的计划', '一年内无换工作的计划', '观望有好的机会再考虑', '我暂时不想找工作'];
      var pclass = 'seeking_job';
      workExperience(seeking_job, ".seeking-job", pclass);
    });

    // 城市插件
    var cityPicker = new IIInsomniaCityPicker({
          data: cityData,
          target: '#locationChoice',
          valType: 'k-v',
          hideCityInput: '#city',
          hideProvinceInput: '#province'
      });

      cityPicker.init();

// function NotBlank(input_class) {
//   var value = $(input_class).val();
//   console.log(value);
//   if(value == ''){
//     return false;
//   }
// }



</script>
